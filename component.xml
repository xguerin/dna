<?xml version="1.0" encoding="UTF-8"?>

<component author="xavier.guerin@imag.fr" unique="true" wrapper="false">

  <id name="DnaInterfaceLibrary" short_name="DnaIF" version="1.0"/>

  <provide>

    <!-- Driver management -->

    <definition name="DNA_GET_DEVICE_SIZE"/>
    <definition name="DNA_SET_DEVICE_SIZE"/>
    <definition name="DNA_SET_NONBLOCKING_IO"/>
    <definition name="DNA_SET_BLOCKING_IO"/>
    <definition name="DNA_GET_READ_STATUS"/>
    <definition name="DNA_GET_WRITE_STATUS"/>
    <definition name="DNA_GET_INFO"/>
    <definition name="DNA_CONTROL_CODES_END"/>
    <definition name="DNA_CHARACTER_DEVICE"/>
    <definition name="DNA_BLOCK_DEVICE"/>

    <type name="driver_t"/>
    <type name="device_cmd_t"/>
    <type name="device_info_t"/>

    <method name="driver_load" return_type="status_t">
      <argument name="name" type="string" direction="in"/>
      <argument name="driver" type="access driver_t" direction="out"/>
    </method>

    <!-- File system management -->

    <type name="filesystem_t"/>
    <type name="filesystem_cmd_t"/>

    <method name="filesystem_load" return_type="status_t">
      <argument name="name" type="string" direction="in"/>
      <argument name="fs" type="access filesystem_t" direction="out"/>
    </method>

    <!-- Status management -->

    <type name="status_t"/>

  </provide>

  <require>
    <!-- Fast libc hooks -->

    <method name="dna_strcmp" return_type="int32_t">
      <argument name="s1" type="string" direction="in"/>
      <argument name="s2" type="string" direction="in"/>
    </method>

  </require>

</component>
